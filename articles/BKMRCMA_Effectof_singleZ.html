<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>BKMRCMA Effect Of Joint Exposures when the Effect Modifier is Fixed â€¢ causalbkmr</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/cosmo/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="BKMRCMA Effect Of Joint Exposures when the Effect Modifier is Fixed">
<meta property="og:description" content="causalbkmr">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    

    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">causalbkmr</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.1.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../index.html">
    <span class="fa fa-home"></span>
     
  </a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    BKMR-CMA
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/BKMRCMA_method_overview.html">Overview of Methodology</a>
    </li>
    <li>
      <a href="../articles/BKMRCMA_QuickStart.html">Quick Start Example - continuous M and continuous Y</a>
    </li>
    <li>
      <a href="../articles/bkmrcma_example_scenario2.html">Example 2 - binary M and binary Y</a>
    </li>
    <li>
      <a href="../articles/bkmrcma_example_scenario3.html">Example 3 - binary M and continuous Y</a>
    </li>
    <li>
      <a href="../articles/bkmrcma_example_scenario4.html">Example 4 - continuous M and binary Y</a>
    </li>
    <li>
      <a href="../articles/BKMRCMA_Effectof_singleZ.html">Effect estimates when Effect Modifier is fixed</a>
    </li>
  </ul>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    BKMR-MI
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/BKMRMI_method_overview.html">Overview of Methodology</a>
    </li>
    <li>
      <a href="../articles/MI_BKMR.html">Quick Start</a>
    </li>
  </ul>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    g-BKMR
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/gBKMR_method_overview.html">Overview of Methodology</a>
    </li>
    <li class="dropdown-header">Quick Start</li>
  </ul>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="../reference/index.html">
    <span class="fa fa-file-code-o"></span>
     
    Functions
  </a>
</li>
<li>
  <a href="https://github.com/zc2326/causalbkmr" class="external-link">
    <span class="fa fa-github fa-lg"></span>
     
    Github
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>BKMRCMA Effect Of Joint Exposures when the
Effect Modifier is Fixed</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/zc2326/causalbkmr/blob/HEAD/vignettes/BKMRCMA_Effectof_singleZ.Rmd" class="external-link"><code>vignettes/BKMRCMA_Effectof_singleZ.Rmd</code></a></small>
      <div class="hidden name"><code>BKMRCMA_Effectof_singleZ.Rmd</code></div>

    </div>

    
    
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/jenfb/bkmr" class="external-link">bkmr</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/dsy109/mixtools" class="external-link">mixtools</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/zc2326/causalbkmr" class="external-link">causalbkmr</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://ggplot2.tidyverse.org" class="external-link">ggplot2</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://rpkgs.datanovia.com/ggpubr/" class="external-link">ggpubr</a></span><span class="op">)</span></span></code></pre></div>
<p>In this scenario, we have a continuous mediator <span class="math inline">\(M\)</span>, a continuous outcome <span class="math inline">\(Y\)</span>, and <code>x2</code> as the effect
modifier on <span class="math inline">\(Y\)</span>. The sample size is
50 and there are 3 covariates.</p>
<p>We can generate a basic sample dataset analogous to the one presented
in the QuickStart guide and proceed to fit the BKMR models in the same
way.</p>
<div class="section level3">
<h3 id="joint-effect-of-co-exposure-to-z1-z2-and-z3-and-single-variable-effects-presented-when-the-effect-modifier-is-fixed-at-its-10th-percentile-or-90th-percentile">Joint effect of co-exposure to Z1, Z2 and Z3 and single variable
effects, presented when the Effect Modifier is fixed at its 10th
percentile or 90th percentile<a class="anchor" aria-label="anchor" href="#joint-effect-of-co-exposure-to-z1-z2-and-z3-and-single-variable-effects-presented-when-the-effect-modifier-is-fixed-at-its-10th-percentile-or-90th-percentile"></a>
</h3>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">list.fit.y.TE</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="va">fit.y.TE</span><span class="op">)</span> </span>
<span><span class="fu"><a href="https://rdrr.io/r/base/colnames.html" class="external-link">colnames</a></span><span class="op">(</span><span class="va">list.fit.y.TE</span><span class="op">[[</span><span class="fl">1</span><span class="op">]</span><span class="op">]</span><span class="op">$</span><span class="va">Z</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"z1"</span>, <span class="st">"z2"</span>, <span class="st">"z3"</span>, <span class="st">"E.Y"</span><span class="op">)</span></span>
<span></span>
<span></span>
<span><span class="va">overallrisks.y.TE.joint.x10</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/OverallRiskSummaries.MI.html">OverallRiskSummaries.MI</a></span><span class="op">(</span><span class="va">list.fit.y.TE</span>, qs <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/seq.html" class="external-link">seq</a></span><span class="op">(</span><span class="fl">0.1</span>, <span class="fl">0.9</span>, by <span class="op">=</span> <span class="fl">0.05</span><span class="op">)</span>, q.fixed <span class="op">=</span> <span class="fl">0.5</span>, q.alwaysfixed <span class="op">=</span> <span class="fl">0.1</span>, index.alwaysfixed <span class="op">=</span> <span class="fl">4</span>, sel <span class="op">=</span> <span class="va">sel</span>, method<span class="op">=</span><span class="st">"approx"</span><span class="op">)</span> </span>
<span><span class="co">#&gt; [1] "approx method"</span></span>
<span><span class="co">#&gt; [1] "1 out of 17 complete:  0 min run time"</span></span>
<span><span class="co">#&gt; [1] "2 out of 17 complete:  0 min run time"</span></span>
<span><span class="co">#&gt; [1] "3 out of 17 complete:  0 min run time"</span></span>
<span><span class="co">#&gt; [1] "4 out of 17 complete:  0 min run time"</span></span>
<span><span class="co">#&gt; [1] "5 out of 17 complete:  0 min run time"</span></span>
<span><span class="co">#&gt; [1] "6 out of 17 complete:  0 min run time"</span></span>
<span><span class="co">#&gt; [1] "7 out of 17 complete:  0 min run time"</span></span>
<span><span class="co">#&gt; [1] "8 out of 17 complete:  0 min run time"</span></span>
<span><span class="co">#&gt; [1] "9 out of 17 complete:  0 min run time"</span></span>
<span><span class="co">#&gt; [1] "10 out of 17 complete:  0 min run time"</span></span>
<span><span class="co">#&gt; [1] "11 out of 17 complete:  0 min run time"</span></span>
<span><span class="co">#&gt; [1] "12 out of 17 complete:  0 min run time"</span></span>
<span><span class="co">#&gt; [1] "13 out of 17 complete:  0 min run time"</span></span>
<span><span class="co">#&gt; [1] "14 out of 17 complete:  0 min run time"</span></span>
<span><span class="co">#&gt; [1] "15 out of 17 complete:  0 min run time"</span></span>
<span><span class="co">#&gt; [1] "16 out of 17 complete:  0 min run time"</span></span>
<span><span class="co">#&gt; [1] "17 out of 17 complete:  0 min run time"</span></span>
<span> </span>
<span><span class="va">overallrisks.y.TE.joint.x90</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/OverallRiskSummaries.MI.html">OverallRiskSummaries.MI</a></span><span class="op">(</span><span class="va">list.fit.y.TE</span>, qs <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/seq.html" class="external-link">seq</a></span><span class="op">(</span><span class="fl">0.1</span>, <span class="fl">0.9</span>, by <span class="op">=</span> <span class="fl">0.05</span><span class="op">)</span>, q.fixed <span class="op">=</span> <span class="fl">0.5</span>, q.alwaysfixed <span class="op">=</span> <span class="fl">0.9</span>, index.alwaysfixed <span class="op">=</span> <span class="fl">4</span>, sel <span class="op">=</span> <span class="va">sel</span>, method<span class="op">=</span><span class="st">"approx"</span><span class="op">)</span> </span>
<span><span class="co">#&gt; [1] "approx method"</span></span>
<span><span class="co">#&gt; [1] "1 out of 17 complete:  0 min run time"</span></span>
<span><span class="co">#&gt; [1] "2 out of 17 complete:  0 min run time"</span></span>
<span><span class="co">#&gt; [1] "3 out of 17 complete:  0 min run time"</span></span>
<span><span class="co">#&gt; [1] "4 out of 17 complete:  0 min run time"</span></span>
<span><span class="co">#&gt; [1] "5 out of 17 complete:  0 min run time"</span></span>
<span><span class="co">#&gt; [1] "6 out of 17 complete:  0 min run time"</span></span>
<span><span class="co">#&gt; [1] "7 out of 17 complete:  0 min run time"</span></span>
<span><span class="co">#&gt; [1] "8 out of 17 complete:  0 min run time"</span></span>
<span><span class="co">#&gt; [1] "9 out of 17 complete:  0 min run time"</span></span>
<span><span class="co">#&gt; [1] "10 out of 17 complete:  0 min run time"</span></span>
<span><span class="co">#&gt; [1] "11 out of 17 complete:  0 min run time"</span></span>
<span><span class="co">#&gt; [1] "12 out of 17 complete:  0 min run time"</span></span>
<span><span class="co">#&gt; [1] "13 out of 17 complete:  0 min run time"</span></span>
<span><span class="co">#&gt; [1] "14 out of 17 complete:  0 min run time"</span></span>
<span><span class="co">#&gt; [1] "15 out of 17 complete:  0 min run time"</span></span>
<span><span class="co">#&gt; [1] "16 out of 17 complete:  0 min run time"</span></span>
<span><span class="co">#&gt; [1] "17 out of 17 complete:  0 min run time"</span></span>
<span> </span>
<span></span>
<span><span class="va">pA</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span><span class="va">overallrisks.y.TE.joint.x10</span>, <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span><span class="va">quantile</span>, <span class="va">est</span>, ymin <span class="op">=</span> <span class="va">est</span> <span class="op">-</span> <span class="fl">1.96</span><span class="op">*</span><span class="va">sd</span>, ymax <span class="op">=</span> <span class="va">est</span> <span class="op">+</span> <span class="fl">1.96</span><span class="op">*</span><span class="va">sd</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_abline.html" class="external-link">geom_hline</a></span><span class="op">(</span>yintercept<span class="op">=</span><span class="fl">00</span>, linetype<span class="op">=</span><span class="st">"dashed"</span>, color<span class="op">=</span><span class="st">"gray"</span><span class="op">)</span><span class="op">+</span> </span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_linerange.html" class="external-link">geom_pointrange</a></span><span class="op">(</span><span class="op">)</span><span class="op">+</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">ggtitle</a></span><span class="op">(</span><span class="st">"A"</span><span class="op">)</span><span class="op">+</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_continuous.html" class="external-link">scale_y_continuous</a></span><span class="op">(</span>name<span class="op">=</span><span class="st">"estimate"</span>, limits <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="op">-</span><span class="fl">1.3</span>, <span class="fl">1.8</span><span class="op">)</span><span class="op">)</span> </span>
<span> </span>
<span><span class="va">pB</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span><span class="va">overallrisks.y.TE.joint.x90</span>, <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span><span class="va">quantile</span>, <span class="va">est</span>, ymin <span class="op">=</span> <span class="va">est</span> <span class="op">-</span> <span class="fl">1.96</span><span class="op">*</span><span class="va">sd</span>, ymax <span class="op">=</span> <span class="va">est</span> <span class="op">+</span> <span class="fl">1.96</span><span class="op">*</span><span class="va">sd</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_abline.html" class="external-link">geom_hline</a></span><span class="op">(</span>yintercept<span class="op">=</span><span class="fl">00</span>, linetype<span class="op">=</span><span class="st">"dashed"</span>, color<span class="op">=</span><span class="st">"gray"</span><span class="op">)</span><span class="op">+</span> </span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_linerange.html" class="external-link">geom_pointrange</a></span><span class="op">(</span><span class="op">)</span><span class="op">+</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">ggtitle</a></span><span class="op">(</span><span class="st">"B"</span><span class="op">)</span><span class="op">+</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_continuous.html" class="external-link">scale_y_continuous</a></span><span class="op">(</span>name<span class="op">=</span><span class="st">"estimate"</span>, limits <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="op">-</span><span class="fl">1.3</span>, <span class="fl">1.8</span><span class="op">)</span><span class="op">)</span>  </span>
<span><span class="fu"><a href="https://rpkgs.datanovia.com/ggpubr/reference/ggarrange.html" class="external-link">ggarrange</a></span><span class="op">(</span><span class="va">pA</span> , <span class="va">pB</span> , ncol<span class="op">=</span><span class="fl">2</span>, nrow <span class="op">=</span><span class="fl">1</span><span class="op">)</span></span></code></pre></div>
<p><img src="BKMRCMA_Effectof_singleZ_files/figure-html/unnamed-chunk-3-1.png" width="2187.5"></p>
<p>Interpretation of the point estimate in figures A, B:</p>
<p><span class="math display">\[E[Y^{z_1^*, z_2^*, z_3^*}|x_{EM} = x^q]
- E[Y^{z_1, z_2, z_3}|x_{EM} = x^q]\]</span> Figure (A). Overall effect
of the mixture (estimates and 95% credible interval) , by comparing the
value of <code>h</code> when all of predictors are at a particular
percentile as compared to when all of them are at their 50th percentile,
while the effect modifier <code>E.Y</code> is fixed at itâ€™s 10th
percentile;</p>
<p>Figure (B). Overall effect of the mixture (estimates and 95% credible
interval) , by comparing the value of <code>h</code> when all of
predictors are at a particular percentile as compared to when all of
them are at their 50th percentile, while the effect modifier
<code>E.Y</code> is fixed at itâ€™s 90th percentile.</p>
</div>
<div class="section level3">
<h3 id="single-exposure-associations-with-outcome-y-estimates-and-95-ci-presented-when-the-age-is-fixed-at-its-10th-percentile-or-90th-percentile">Single exposure associations with outcome Y (estimates and 95% CI)
presented when the age is fixed at its 10th percentile or 90th
percentile<a class="anchor" aria-label="anchor" href="#single-exposure-associations-with-outcome-y-estimates-and-95-ci-presented-when-the-age-is-fixed-at-its-10th-percentile-or-90th-percentile"></a>
</h3>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">singvarrisk.y.TE.joint.x10</span>  <span class="op">&lt;-</span> <span class="fu"><a href="../reference/SingVarRiskSummaries.MI.html">SingVarRiskSummaries.MI</a></span><span class="op">(</span><span class="va">list.fit.y.TE</span>, which.z<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>,<span class="fl">2</span>,<span class="fl">3</span><span class="op">)</span>, qs.diff <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0.25</span>, <span class="fl">0.75</span><span class="op">)</span>, q.fixed <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0.25</span>, <span class="fl">0.50</span>, <span class="fl">0.75</span><span class="op">)</span>, q.alwaysfixed <span class="op">=</span> <span class="fl">0.1</span>, index.alwaysfixed <span class="op">=</span> <span class="fl">4</span>, sel<span class="op">=</span><span class="va">sel</span>, method <span class="op">=</span> <span class="st">"approx"</span><span class="op">)</span></span>
<span><span class="co">#&gt; Warning: `data_frame()` was deprecated in tibble 1.1.0.</span></span>
<span><span class="co">#&gt; <span style="color: #00BBBB;">â„¹</span> Please use `tibble()` instead.</span></span>
<span><span class="co">#&gt; <span style="color: #00BBBB;">â„¹</span> The deprecated feature was likely used in the <span style="color: #0000BB;">causalbkmr</span> package.</span></span>
<span><span class="co">#&gt;   Please report the issue at <span style="color: #0000BB; font-style: italic;">&lt;https://github.com/zc2326/causalbkmr/issues&gt;</span>.</span></span>
<span><span class="co">#&gt; [1] "1 out of 3 complete:  0 min run time"</span></span>
<span><span class="co">#&gt; [1] "2 out of 3 complete:  0 min run time"</span></span>
<span><span class="co">#&gt; [1] "3 out of 3 complete:  0 min run time"</span></span>
<span><span class="co">#&gt; Warning: `mutate_()` was deprecated in dplyr 0.7.0.</span></span>
<span><span class="co">#&gt; <span style="color: #00BBBB;">â„¹</span> Please use `mutate()` instead.</span></span>
<span><span class="co">#&gt; <span style="color: #00BBBB;">â„¹</span> See vignette('programming') for more help</span></span>
<span><span class="co">#&gt; <span style="color: #00BBBB;">â„¹</span> The deprecated feature was likely used in the <span style="color: #0000BB;">causalbkmr</span> package.</span></span>
<span><span class="co">#&gt;   Please report the issue at <span style="color: #0000BB; font-style: italic;">&lt;https://github.com/zc2326/causalbkmr/issues&gt;</span>.</span></span>
<span></span>
<span><span class="va">singvarrisk.y.TE.joint.x90</span>  <span class="op">&lt;-</span> <span class="fu"><a href="../reference/SingVarRiskSummaries.MI.html">SingVarRiskSummaries.MI</a></span><span class="op">(</span><span class="va">list.fit.y.TE</span>, which.z<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>,<span class="fl">2</span>,<span class="fl">3</span><span class="op">)</span>, qs.diff <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0.25</span>, <span class="fl">0.75</span><span class="op">)</span>, q.fixed <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0.25</span>, <span class="fl">0.50</span>, <span class="fl">0.75</span><span class="op">)</span>, q.alwaysfixed <span class="op">=</span> <span class="fl">0.9</span>, index.alwaysfixed <span class="op">=</span> <span class="fl">4</span>, sel<span class="op">=</span><span class="va">sel</span>, method <span class="op">=</span> <span class="st">"approx"</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] "1 out of 3 complete:  0 min run time"</span></span>
<span><span class="co">#&gt; [1] "2 out of 3 complete:  0 min run time"</span></span>
<span><span class="co">#&gt; [1] "3 out of 3 complete:  0 min run time"</span></span>
<span></span>
<span><span class="va">pC</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span><span class="va">singvarrisk.y.TE.joint.x10</span> , <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span><span class="va">variable</span>, <span class="va">est</span>, ymin <span class="op">=</span> <span class="va">est</span> <span class="op">-</span> <span class="fl">1.96</span><span class="op">*</span><span class="va">sd</span>,  ymax <span class="op">=</span> <span class="va">est</span> <span class="op">+</span> <span class="fl">1.96</span><span class="op">*</span><span class="va">sd</span>, col <span class="op">=</span> <span class="va">q.fixed</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_abline.html" class="external-link">geom_hline</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>yintercept<span class="op">=</span><span class="fl">0</span><span class="op">)</span>, linetype<span class="op">=</span><span class="st">"dashed"</span>, color<span class="op">=</span><span class="st">"gray"</span><span class="op">)</span><span class="op">+</span> </span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_linerange.html" class="external-link">geom_pointrange</a></span><span class="op">(</span>position <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/position_dodge.html" class="external-link">position_dodge</a></span><span class="op">(</span>width <span class="op">=</span> <span class="fl">0.75</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/coord_flip.html" class="external-link">coord_flip</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">ggtitle</a></span><span class="op">(</span><span class="st">""</span><span class="op">)</span><span class="op">+</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/theme.html" class="external-link">theme</a></span><span class="op">(</span>legend.position<span class="op">=</span><span class="st">"none"</span><span class="op">)</span><span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_discrete.html" class="external-link">scale_x_discrete</a></span><span class="op">(</span>name<span class="op">=</span><span class="st">""</span><span class="op">)</span><span class="op">+</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_continuous.html" class="external-link">scale_y_continuous</a></span><span class="op">(</span>name<span class="op">=</span><span class="st">"estimate"</span><span class="op">)</span>  <span class="op">+</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">ggtitle</a></span><span class="op">(</span><span class="st">"C"</span><span class="op">)</span></span>
<span></span>
<span><span class="va">pD</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span><span class="va">singvarrisk.y.TE.joint.x90</span> , <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span><span class="va">variable</span>, <span class="va">est</span>, ymin <span class="op">=</span> <span class="va">est</span> <span class="op">-</span> <span class="fl">1.96</span><span class="op">*</span><span class="va">sd</span>,  ymax <span class="op">=</span> <span class="va">est</span> <span class="op">+</span> <span class="fl">1.96</span><span class="op">*</span><span class="va">sd</span>, col <span class="op">=</span> <span class="va">q.fixed</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_abline.html" class="external-link">geom_hline</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>yintercept<span class="op">=</span><span class="fl">0</span><span class="op">)</span>, linetype<span class="op">=</span><span class="st">"dashed"</span>, color<span class="op">=</span><span class="st">"gray"</span><span class="op">)</span><span class="op">+</span> </span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_linerange.html" class="external-link">geom_pointrange</a></span><span class="op">(</span>position <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/position_dodge.html" class="external-link">position_dodge</a></span><span class="op">(</span>width <span class="op">=</span> <span class="fl">0.75</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/coord_flip.html" class="external-link">coord_flip</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">ggtitle</a></span><span class="op">(</span><span class="st">""</span><span class="op">)</span><span class="op">+</span> </span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_discrete.html" class="external-link">scale_x_discrete</a></span><span class="op">(</span>name<span class="op">=</span><span class="st">""</span><span class="op">)</span><span class="op">+</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_continuous.html" class="external-link">scale_y_continuous</a></span><span class="op">(</span>name<span class="op">=</span><span class="st">"estimate"</span><span class="op">)</span>  <span class="op">+</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">ggtitle</a></span><span class="op">(</span><span class="st">"D"</span><span class="op">)</span> </span>
<span></span>
<span><span class="fu"><a href="https://rpkgs.datanovia.com/ggpubr/reference/ggarrange.html" class="external-link">ggarrange</a></span><span class="op">(</span><span class="va">pC</span> , <span class="va">pD</span> , ncol<span class="op">=</span><span class="fl">2</span>, nrow <span class="op">=</span><span class="fl">1</span><span class="op">)</span></span></code></pre></div>
<p><img src="BKMRCMA_Effectof_singleZ_files/figure-html/unnamed-chunk-4-1.png" width="2187.5"></p>
<p>Interpretation of the point estimate in figures C, D:</p>
<p><span class="math inline">\(Z_1\)</span>:</p>
<p><span class="math display">\[E[Y^{z_1^*, z_2^p, z_3^p}|x_{EM} = x^q]
- E[Y^{z_1, z_2^p, z_3^p}|x_{EM} = x^q]\]</span> <span class="math inline">\(Z_2\)</span>:</p>
<p><span class="math display">\[E[Y^{z_1^p, z_2^*, z_3^p}|x_{EM} = x^q]
- E[Y^{z_1^p, z_2, z_3^p}|x_{EM} = x^q]\]</span> <span class="math inline">\(Z_3\)</span>:</p>
<p><span class="math display">\[E[Y^{z_1^p, z_2^p, z_3^*}|x_{EM} = x^q]
- E[Y^{z_1^p, z_2^p, z_3}|x_{EM} = x^q]\]</span></p>
<p>Figure (C). Single Exposure association (estimates and 95% credible
intervals) while the effect modifier <code>E.Y</code> is fixed at itâ€™s
10th percentile. This plot compares the outcome when a single exposure
is at the 75th vs.Â 25th percentile, when all the other exposures are
fixed at either the 25th, 50th, or 75th percentile, and the effect
modifier fixed at itâ€™s 10th percentile.</p>
<p>Figure (D). Single Exposure association (estimates and 95% credible
intervals) while the effect modifier <code>E.Y</code> is fixed at itâ€™s
90th percentile. This plot compares the outcome when a single exposure
is at the 75th vs.Â 25th percentile, and the effect modifier fixed at
itâ€™s 10th percentile.</p>
</div>
<div class="section level3">
<h3 id="functions-for-multiple-exposures-are-presented">Functions for multiple Exposures are presented<a class="anchor" aria-label="anchor" href="#functions-for-multiple-exposures-are-presented"></a>
</h3>
<p>In the follwing scenario, we have a continuous mediator <span class="math inline">\(M\)</span>, a continuous outcome <span class="math inline">\(Y\)</span>. <code>x1</code> and <code>x2</code>
are both effect modifiers on <span class="math inline">\(Y\)</span>. The
sample size is 50 and there are 3 covariates.</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">dat</span> <span class="op">&lt;-</span>  <span class="fu"><a href="../reference/cma_sampledata.html">cma_sampledata</a></span><span class="op">(</span>N <span class="op">=</span> <span class="fl">50</span>, L<span class="op">=</span><span class="fl">3</span>, P<span class="op">=</span><span class="fl">3</span>, scenario<span class="op">=</span><span class="fl">5</span>, seed<span class="op">=</span><span class="fl">7</span><span class="op">)</span> </span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">dat</span><span class="op">$</span><span class="va">data</span>, n <span class="op">=</span> <span class="fl">3L</span><span class="op">)</span></span>
<span><span class="co">#&gt;           z1         z2         z3           M         x1          x2        x3</span></span>
<span><span class="co">#&gt; 1  2.2767428  0.1432685  0.7973699  0.77853906 -0.3556944  2.02334405 -1.477592</span></span>
<span><span class="co">#&gt; 2 -1.0893537 -0.0944783  0.4035083 -0.08605238  1.0973004  0.86249250 -2.973256</span></span>
<span><span class="co">#&gt; 3 -0.6389109  0.2491581 -0.1243989 -0.40362413 -0.9066920 -0.02490949 -1.339762</span></span>
<span><span class="co">#&gt;   y</span></span>
<span><span class="co">#&gt; 1 1</span></span>
<span><span class="co">#&gt; 2 1</span></span>
<span><span class="co">#&gt; 3 0</span></span>
<span><span class="va">dat</span> <span class="op">=</span> <span class="va">dat</span><span class="op">$</span><span class="va">data</span></span>
<span></span>
<span><span class="va">A</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/cbind.html" class="external-link">cbind</a></span><span class="op">(</span><span class="va">dat</span><span class="op">$</span><span class="va">z1</span>, <span class="va">dat</span><span class="op">$</span><span class="va">z2</span>, <span class="va">dat</span><span class="op">$</span><span class="va">z3</span><span class="op">)</span></span>
<span><span class="va">X</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/cbind.html" class="external-link">cbind</a></span><span class="op">(</span><span class="va">dat</span><span class="op">$</span><span class="va">x1</span>, <span class="va">dat</span><span class="op">$</span><span class="va">x2</span>, <span class="va">dat</span><span class="op">$</span><span class="va">x3</span><span class="op">)</span></span>
<span><span class="va">y</span>  <span class="op">&lt;-</span> <span class="va">dat</span><span class="op">$</span><span class="va">y</span></span>
<span><span class="va">m</span>  <span class="op">&lt;-</span> <span class="va">dat</span><span class="op">$</span><span class="va">M</span> </span>
<span></span>
<span><span class="va">E.M</span> <span class="op">&lt;-</span> <span class="cn">NULL</span></span>
<span><span class="va">E.Y</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/cbind.html" class="external-link">cbind</a></span><span class="op">(</span><span class="va">dat</span><span class="op">$</span><span class="va">x1</span>, <span class="va">dat</span><span class="op">$</span><span class="va">x2</span><span class="op">)</span></span>
<span></span>
<span><span class="va">Z.M</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/cbind.html" class="external-link">cbind</a></span><span class="op">(</span><span class="va">A</span>,<span class="va">E.M</span><span class="op">)</span> </span>
<span><span class="va">Z.Y</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/cbind.html" class="external-link">cbind</a></span><span class="op">(</span><span class="va">A</span>, <span class="va">E.Y</span><span class="op">)</span> </span>
<span><span class="va">Zm.Y</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/cbind.html" class="external-link">cbind</a></span><span class="op">(</span><span class="va">Z.Y</span>, <span class="va">m</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/Random.html" class="external-link">set.seed</a></span><span class="op">(</span><span class="fl">2</span><span class="op">)</span></span>
<span><span class="va">fit.y.TE</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/bkmr/man/kmbayes.html" class="external-link">kmbayes</a></span><span class="op">(</span>y<span class="op">=</span><span class="va">y</span>, Z<span class="op">=</span><span class="va">Z.Y</span>, X<span class="op">=</span><span class="va">X</span>, iter<span class="op">=</span><span class="fl">10000</span>, verbose<span class="op">=</span><span class="cn">TRUE</span>, varsel<span class="op">=</span><span class="cn">FALSE</span><span class="op">)</span> </span>
<span><span class="co">#&gt; Iteration: 1000 (10% completed; 4.48869 secs elapsed)</span></span>
<span><span class="co">#&gt; Acceptance rates for Metropolis-Hastings algorithm:</span></span>
<span><span class="co">#&gt;    param      rate</span></span>
<span><span class="co">#&gt; 1 lambda 0.1671672</span></span>
<span><span class="co">#&gt; 2     r1 0.3463463</span></span>
<span><span class="co">#&gt; 3     r2 0.1431431</span></span>
<span><span class="co">#&gt; 4     r3 0.1691692</span></span>
<span><span class="co">#&gt; 5     r4 0.2572573</span></span>
<span><span class="co">#&gt; 6     r5 0.2342342</span></span>
<span><span class="co">#&gt; Iteration: 2000 (20% completed; 8.36653 secs elapsed)</span></span>
<span><span class="co">#&gt; Acceptance rates for Metropolis-Hastings algorithm:</span></span>
<span><span class="co">#&gt;    param      rate</span></span>
<span><span class="co">#&gt; 1 lambda 0.2061031</span></span>
<span><span class="co">#&gt; 2     r1 0.2936468</span></span>
<span><span class="co">#&gt; 3     r2 0.1310655</span></span>
<span><span class="co">#&gt; 4     r3 0.1820910</span></span>
<span><span class="co">#&gt; 5     r4 0.2026013</span></span>
<span><span class="co">#&gt; 6     r5 0.1965983</span></span>
<span><span class="co">#&gt; Iteration: 3000 (30% completed; 12.55234 secs elapsed)</span></span>
<span><span class="co">#&gt; Acceptance rates for Metropolis-Hastings algorithm:</span></span>
<span><span class="co">#&gt;    param      rate</span></span>
<span><span class="co">#&gt; 1 lambda 0.2227409</span></span>
<span><span class="co">#&gt; 2     r1 0.2830944</span></span>
<span><span class="co">#&gt; 3     r2 0.1240413</span></span>
<span><span class="co">#&gt; 4     r3 0.1700567</span></span>
<span><span class="co">#&gt; 5     r4 0.1867289</span></span>
<span><span class="co">#&gt; 6     r5 0.1740580</span></span>
<span><span class="co">#&gt; Iteration: 4000 (40% completed; 16.88251 secs elapsed)</span></span>
<span><span class="co">#&gt; Acceptance rates for Metropolis-Hastings algorithm:</span></span>
<span><span class="co">#&gt;    param      rate</span></span>
<span><span class="co">#&gt; 1 lambda 0.2290573</span></span>
<span><span class="co">#&gt; 2     r1 0.2713178</span></span>
<span><span class="co">#&gt; 3     r2 0.1245311</span></span>
<span><span class="co">#&gt; 4     r3 0.1592898</span></span>
<span><span class="co">#&gt; 5     r4 0.1915479</span></span>
<span><span class="co">#&gt; 6     r5 0.1822956</span></span>
<span><span class="co">#&gt; Iteration: 5000 (50% completed; 21.01054 secs elapsed)</span></span>
<span><span class="co">#&gt; Acceptance rates for Metropolis-Hastings algorithm:</span></span>
<span><span class="co">#&gt;    param      rate</span></span>
<span><span class="co">#&gt; 1 lambda 0.2230446</span></span>
<span><span class="co">#&gt; 2     r1 0.2774555</span></span>
<span><span class="co">#&gt; 3     r2 0.1198240</span></span>
<span><span class="co">#&gt; 4     r3 0.1620324</span></span>
<span><span class="co">#&gt; 5     r4 0.1900380</span></span>
<span><span class="co">#&gt; 6     r5 0.1830366</span></span>
<span><span class="co">#&gt; Iteration: 6000 (60% completed; 24.92427 secs elapsed)</span></span>
<span><span class="co">#&gt; Acceptance rates for Metropolis-Hastings algorithm:</span></span>
<span><span class="co">#&gt;    param      rate</span></span>
<span><span class="co">#&gt; 1 lambda 0.2235373</span></span>
<span><span class="co">#&gt; 2     r1 0.2735456</span></span>
<span><span class="co">#&gt; 3     r2 0.1228538</span></span>
<span><span class="co">#&gt; 4     r3 0.1633606</span></span>
<span><span class="co">#&gt; 5     r4 0.1865311</span></span>
<span><span class="co">#&gt; 6     r5 0.1838640</span></span>
<span><span class="co">#&gt; Iteration: 7000 (70% completed; 29.04691 secs elapsed)</span></span>
<span><span class="co">#&gt; Acceptance rates for Metropolis-Hastings algorithm:</span></span>
<span><span class="co">#&gt;    param      rate</span></span>
<span><span class="co">#&gt; 1 lambda 0.2166024</span></span>
<span><span class="co">#&gt; 2     r1 0.2788970</span></span>
<span><span class="co">#&gt; 3     r2 0.1207315</span></span>
<span><span class="co">#&gt; 4     r3 0.1647378</span></span>
<span><span class="co">#&gt; 5     r4 0.1848836</span></span>
<span><span class="co">#&gt; 6     r5 0.1791685</span></span>
<span><span class="co">#&gt; Iteration: 8000 (80% completed; 33.40792 secs elapsed)</span></span>
<span><span class="co">#&gt; Acceptance rates for Metropolis-Hastings algorithm:</span></span>
<span><span class="co">#&gt;    param      rate</span></span>
<span><span class="co">#&gt; 1 lambda 0.2171521</span></span>
<span><span class="co">#&gt; 2     r1 0.2745343</span></span>
<span><span class="co">#&gt; 3     r2 0.1226403</span></span>
<span><span class="co">#&gt; 4     r3 0.1702713</span></span>
<span><span class="co">#&gt; 5     r4 0.1865233</span></span>
<span><span class="co">#&gt; 6     r5 0.1788974</span></span>
<span><span class="co">#&gt; Iteration: 9000 (90% completed; 37.63797 secs elapsed)</span></span>
<span><span class="co">#&gt; Acceptance rates for Metropolis-Hastings algorithm:</span></span>
<span><span class="co">#&gt;    param      rate</span></span>
<span><span class="co">#&gt; 1 lambda 0.2162462</span></span>
<span><span class="co">#&gt; 2     r1 0.2720302</span></span>
<span><span class="co">#&gt; 3     r2 0.1229025</span></span>
<span><span class="co">#&gt; 4     r3 0.1722414</span></span>
<span><span class="co">#&gt; 5     r4 0.1864652</span></span>
<span><span class="co">#&gt; 6     r5 0.1757973</span></span>
<span><span class="co">#&gt; Iteration: 10000 (100% completed; 41.46133 secs elapsed)</span></span>
<span><span class="co">#&gt; Acceptance rates for Metropolis-Hastings algorithm:</span></span>
<span><span class="co">#&gt;    param      rate</span></span>
<span><span class="co">#&gt; 1 lambda 0.2207221</span></span>
<span><span class="co">#&gt; 2     r1 0.2639264</span></span>
<span><span class="co">#&gt; 3     r2 0.1230123</span></span>
<span><span class="co">#&gt; 4     r3 0.1679168</span></span>
<span><span class="co">#&gt; 5     r4 0.1821182</span></span>
<span><span class="co">#&gt; 6     r5 0.1801180</span></span>
<span><span class="co">#save(fit.y.TE,file="bkmr_y_TE.RData")</span></span>
<span></span>
<span><span class="va">X.predict</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/matrix.html" class="external-link">matrix</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/colSums.html" class="external-link">colMeans</a></span><span class="op">(</span><span class="va">X</span><span class="op">)</span>,nrow<span class="op">=</span><span class="fl">1</span><span class="op">)</span></span>
<span><span class="va">sel</span><span class="op">&lt;-</span><span class="fu"><a href="https://rdrr.io/r/base/seq.html" class="external-link">seq</a></span><span class="op">(</span><span class="fl">5000</span>,<span class="fl">10000</span>,by<span class="op">=</span><span class="fl">10</span><span class="op">)</span></span>
<span></span>
<span><span class="va">list.fit.y.TE</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="va">fit.y.TE</span><span class="op">)</span>  </span>
<span><span class="fu"><a href="https://rdrr.io/r/base/colnames.html" class="external-link">colnames</a></span><span class="op">(</span><span class="va">list.fit.y.TE</span><span class="op">[[</span><span class="fl">1</span><span class="op">]</span><span class="op">]</span><span class="op">$</span><span class="va">Z</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"z1"</span>, <span class="st">"z2"</span>, <span class="st">"z3"</span>, <span class="st">"x1"</span>, <span class="st">"x2"</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="overall-risk-summaries-for-a-list-of-fixed-percentiles-of-the-effect-modifiers">Overall Risk Summaries for a list of fixed percentiles of the Effect
modifiers<a class="anchor" aria-label="anchor" href="#overall-risk-summaries-for-a-list-of-fixed-percentiles-of-the-effect-modifiers"></a>
</h3>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">ListofResTables</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/OverallRiskSummaries.fixEY.html">OverallRiskSummaries.fixEY</a></span><span class="op">(</span><span class="va">list.fit.y.TE</span>, qs <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/seq.html" class="external-link">seq</a></span><span class="op">(</span><span class="fl">0.1</span>, <span class="fl">0.9</span>, by <span class="op">=</span> <span class="fl">0.05</span><span class="op">)</span>, </span>
<span>                           q.fixed <span class="op">=</span> <span class="fl">0.5</span>, q.alwaysfixed <span class="op">=</span>  <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0.15</span>, <span class="fl">0.85</span><span class="op">)</span>, </span>
<span>                           EY.alwaysfixed.name <span class="op">=</span>  <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"x1"</span>, <span class="st">"x2"</span><span class="op">)</span>, sel <span class="op">=</span> <span class="va">sel</span>, method<span class="op">=</span><span class="st">"approx"</span><span class="op">)</span>  </span>
<span><span class="co">#&gt; [1] "approx method"</span></span>
<span><span class="co">#&gt; [1] "1 out of 17 complete:  0 min run time"</span></span>
<span><span class="co">#&gt; [1] "2 out of 17 complete:  0 min run time"</span></span>
<span><span class="co">#&gt; [1] "3 out of 17 complete:  0 min run time"</span></span>
<span><span class="co">#&gt; [1] "4 out of 17 complete:  0 min run time"</span></span>
<span><span class="co">#&gt; [1] "5 out of 17 complete:  0 min run time"</span></span>
<span><span class="co">#&gt; [1] "6 out of 17 complete:  0 min run time"</span></span>
<span><span class="co">#&gt; [1] "7 out of 17 complete:  0 min run time"</span></span>
<span><span class="co">#&gt; [1] "8 out of 17 complete:  0 min run time"</span></span>
<span><span class="co">#&gt; [1] "9 out of 17 complete:  0 min run time"</span></span>
<span><span class="co">#&gt; [1] "10 out of 17 complete:  0 min run time"</span></span>
<span><span class="co">#&gt; [1] "11 out of 17 complete:  0 min run time"</span></span>
<span><span class="co">#&gt; [1] "12 out of 17 complete:  0 min run time"</span></span>
<span><span class="co">#&gt; [1] "13 out of 17 complete:  0 min run time"</span></span>
<span><span class="co">#&gt; [1] "14 out of 17 complete:  0 min run time"</span></span>
<span><span class="co">#&gt; [1] "15 out of 17 complete:  0 min run time"</span></span>
<span><span class="co">#&gt; [1] "16 out of 17 complete:  0 min run time"</span></span>
<span><span class="co">#&gt; [1] "17 out of 17 complete:  0 min run time"</span></span>
<span><span class="co">#&gt; [1] "approx method"</span></span>
<span><span class="co">#&gt; [1] "1 out of 17 complete:  0 min run time"</span></span>
<span><span class="co">#&gt; [1] "2 out of 17 complete:  0 min run time"</span></span>
<span><span class="co">#&gt; [1] "3 out of 17 complete:  0 min run time"</span></span>
<span><span class="co">#&gt; [1] "4 out of 17 complete:  0 min run time"</span></span>
<span><span class="co">#&gt; [1] "5 out of 17 complete:  0 min run time"</span></span>
<span><span class="co">#&gt; [1] "6 out of 17 complete:  0 min run time"</span></span>
<span><span class="co">#&gt; [1] "7 out of 17 complete:  0 min run time"</span></span>
<span><span class="co">#&gt; [1] "8 out of 17 complete:  0 min run time"</span></span>
<span><span class="co">#&gt; [1] "9 out of 17 complete:  0 min run time"</span></span>
<span><span class="co">#&gt; [1] "10 out of 17 complete:  0 min run time"</span></span>
<span><span class="co">#&gt; [1] "11 out of 17 complete:  0 min run time"</span></span>
<span><span class="co">#&gt; [1] "12 out of 17 complete:  0 min run time"</span></span>
<span><span class="co">#&gt; [1] "13 out of 17 complete:  0 min run time"</span></span>
<span><span class="co">#&gt; [1] "14 out of 17 complete:  0 min run time"</span></span>
<span><span class="co">#&gt; [1] "15 out of 17 complete:  0 min run time"</span></span>
<span><span class="co">#&gt; [1] "16 out of 17 complete:  0 min run time"</span></span>
<span><span class="co">#&gt; [1] "17 out of 17 complete:  0 min run time"</span></span>
<span></span>
<span><span class="co">#ListofResTables[[1]]</span></span>
<span><span class="co">#ListofResTables[[2]]</span></span>
<span></span>
<span><span class="va">pE</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span><span class="va">ListofResTables</span><span class="op">[[</span><span class="fl">1</span><span class="op">]</span><span class="op">]</span>, <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span><span class="va">quantile</span>, <span class="va">est</span>, ymin <span class="op">=</span> <span class="va">est</span> <span class="op">-</span> <span class="fl">1.96</span><span class="op">*</span><span class="va">sd</span>, ymax <span class="op">=</span> <span class="va">est</span> <span class="op">+</span> <span class="fl">1.96</span><span class="op">*</span><span class="va">sd</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span>  </span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_abline.html" class="external-link">geom_hline</a></span><span class="op">(</span>yintercept<span class="op">=</span><span class="fl">00</span>, linetype<span class="op">=</span><span class="st">"dashed"</span>, color<span class="op">=</span><span class="st">"gray"</span><span class="op">)</span><span class="op">+</span> </span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_linerange.html" class="external-link">geom_pointrange</a></span><span class="op">(</span><span class="op">)</span><span class="op">+</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">ggtitle</a></span><span class="op">(</span><span class="st">"E"</span><span class="op">)</span><span class="op">+</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_continuous.html" class="external-link">scale_y_continuous</a></span><span class="op">(</span>name<span class="op">=</span><span class="st">"estimate"</span>, limits <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="op">-</span><span class="fl">1</span>, <span class="fl">1.5</span><span class="op">)</span><span class="op">)</span>  </span>
<span><span class="va">pF</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span><span class="va">ListofResTables</span><span class="op">[[</span><span class="fl">2</span><span class="op">]</span><span class="op">]</span>, <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span><span class="va">quantile</span>, <span class="va">est</span>, ymin <span class="op">=</span> <span class="va">est</span> <span class="op">-</span> <span class="fl">1.96</span><span class="op">*</span><span class="va">sd</span>, ymax <span class="op">=</span> <span class="va">est</span> <span class="op">+</span> <span class="fl">1.96</span><span class="op">*</span><span class="va">sd</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span>  </span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_abline.html" class="external-link">geom_hline</a></span><span class="op">(</span>yintercept<span class="op">=</span><span class="fl">00</span>, linetype<span class="op">=</span><span class="st">"dashed"</span>, color<span class="op">=</span><span class="st">"gray"</span><span class="op">)</span><span class="op">+</span> </span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_linerange.html" class="external-link">geom_pointrange</a></span><span class="op">(</span><span class="op">)</span><span class="op">+</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">ggtitle</a></span><span class="op">(</span><span class="st">"F"</span><span class="op">)</span><span class="op">+</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_continuous.html" class="external-link">scale_y_continuous</a></span><span class="op">(</span>name<span class="op">=</span><span class="st">"estimate"</span>, limits <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="op">-</span><span class="fl">1</span>, <span class="fl">1.5</span><span class="op">)</span><span class="op">)</span> </span>
<span><span class="fu"><a href="https://rpkgs.datanovia.com/ggpubr/reference/ggarrange.html" class="external-link">ggarrange</a></span><span class="op">(</span><span class="va">pE</span> , <span class="va">pF</span> , ncol<span class="op">=</span><span class="fl">2</span>, nrow <span class="op">=</span><span class="fl">1</span><span class="op">)</span></span></code></pre></div>
<p><img src="BKMRCMA_Effectof_singleZ_files/figure-html/unnamed-chunk-6-1.png" width="2187.5"></p>
</div>
<div class="section level3">
<h3 id="single-variable-risk-summaries-for-a-list-of-fixed-percentiles-of-the-effect-modifiers">Single Variable Risk Summaries for a list of fixed percentiles of
the Effect modifiers<a class="anchor" aria-label="anchor" href="#single-variable-risk-summaries-for-a-list-of-fixed-percentiles-of-the-effect-modifiers"></a>
</h3>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">ListofResTablesSingvar</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/SingVarRiskSummaries.fixEY.html">SingVarRiskSummaries.fixEY</a></span><span class="op">(</span><span class="va">list.fit.y.TE</span>, which.z <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>,<span class="fl">2</span>,<span class="fl">3</span><span class="op">)</span>, qs.diff <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0.25</span>, <span class="fl">0.75</span><span class="op">)</span>, </span>
<span>                                                     q.fixed <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0.25</span>, <span class="fl">0.50</span>, <span class="fl">0.75</span><span class="op">)</span>, </span>
<span>                                                     q.alwaysfixed <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0.15</span>, <span class="fl">0.85</span><span class="op">)</span>, z.names <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"z1"</span>, <span class="st">"z2"</span>, <span class="st">"z3"</span><span class="op">)</span>, </span>
<span>                                                     EY.alwaysfixed.name <span class="op">=</span>  <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"x1"</span>, <span class="st">"x2"</span><span class="op">)</span>, sel <span class="op">=</span> <span class="va">sel</span>, method<span class="op">=</span><span class="st">"approx"</span><span class="op">)</span> </span>
<span><span class="co">#&gt; [1] "1 out of 3 complete:  0 min run time"</span></span>
<span><span class="co">#&gt; [1] "2 out of 3 complete:  0 min run time"</span></span>
<span><span class="co">#&gt; [1] "3 out of 3 complete:  0 min run time"</span></span>
<span><span class="co">#&gt; [1] "1 out of 3 complete:  0 min run time"</span></span>
<span><span class="co">#&gt; [1] "2 out of 3 complete:  0 min run time"</span></span>
<span><span class="co">#&gt; [1] "3 out of 3 complete:  0 min run time"</span></span>
<span><span class="co">#ListofResTablesSingvar[[2]] </span></span>
<span><span class="co">#ListofResTablesSingvar[[2]]</span></span>
<span></span>
<span><span class="va">pG</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span><span class="va">ListofResTablesSingvar</span><span class="op">[[</span><span class="fl">1</span><span class="op">]</span><span class="op">]</span> , <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span><span class="va">variable</span>, <span class="va">est</span>, ymin <span class="op">=</span> <span class="va">est</span> <span class="op">-</span> <span class="fl">1.96</span><span class="op">*</span><span class="va">sd</span>,  ymax <span class="op">=</span> <span class="va">est</span> <span class="op">+</span> <span class="fl">1.96</span><span class="op">*</span><span class="va">sd</span>, col <span class="op">=</span> <span class="va">q.fixed</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span>  </span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_abline.html" class="external-link">geom_hline</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>yintercept<span class="op">=</span><span class="fl">0</span><span class="op">)</span>, linetype<span class="op">=</span><span class="st">"dashed"</span>, color<span class="op">=</span><span class="st">"gray"</span><span class="op">)</span><span class="op">+</span> </span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_linerange.html" class="external-link">geom_pointrange</a></span><span class="op">(</span>position <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/position_dodge.html" class="external-link">position_dodge</a></span><span class="op">(</span>width <span class="op">=</span> <span class="fl">0.75</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/coord_flip.html" class="external-link">coord_flip</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">ggtitle</a></span><span class="op">(</span><span class="st">""</span><span class="op">)</span><span class="op">+</span> </span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_discrete.html" class="external-link">scale_x_discrete</a></span><span class="op">(</span>name<span class="op">=</span><span class="st">""</span><span class="op">)</span><span class="op">+</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_continuous.html" class="external-link">scale_y_continuous</a></span><span class="op">(</span>name<span class="op">=</span><span class="st">"estimate"</span><span class="op">)</span>  <span class="op">+</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">ggtitle</a></span><span class="op">(</span><span class="st">"G"</span><span class="op">)</span> </span>
<span><span class="va">pH</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span><span class="va">ListofResTablesSingvar</span><span class="op">[[</span><span class="fl">2</span><span class="op">]</span><span class="op">]</span> , <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span><span class="va">variable</span>, <span class="va">est</span>, ymin <span class="op">=</span> <span class="va">est</span> <span class="op">-</span> <span class="fl">1.96</span><span class="op">*</span><span class="va">sd</span>,  ymax <span class="op">=</span> <span class="va">est</span> <span class="op">+</span> <span class="fl">1.96</span><span class="op">*</span><span class="va">sd</span>, col <span class="op">=</span> <span class="va">q.fixed</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span>  </span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_abline.html" class="external-link">geom_hline</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>yintercept<span class="op">=</span><span class="fl">0</span><span class="op">)</span>, linetype<span class="op">=</span><span class="st">"dashed"</span>, color<span class="op">=</span><span class="st">"gray"</span><span class="op">)</span><span class="op">+</span> </span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_linerange.html" class="external-link">geom_pointrange</a></span><span class="op">(</span>position <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/position_dodge.html" class="external-link">position_dodge</a></span><span class="op">(</span>width <span class="op">=</span> <span class="fl">0.75</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/coord_flip.html" class="external-link">coord_flip</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">ggtitle</a></span><span class="op">(</span><span class="st">""</span><span class="op">)</span><span class="op">+</span> </span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_discrete.html" class="external-link">scale_x_discrete</a></span><span class="op">(</span>name<span class="op">=</span><span class="st">""</span><span class="op">)</span><span class="op">+</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_continuous.html" class="external-link">scale_y_continuous</a></span><span class="op">(</span>name<span class="op">=</span><span class="st">"estimate"</span><span class="op">)</span>  <span class="op">+</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">ggtitle</a></span><span class="op">(</span><span class="st">"H"</span><span class="op">)</span> </span>
<span><span class="fu"><a href="https://rpkgs.datanovia.com/ggpubr/reference/ggarrange.html" class="external-link">ggarrange</a></span><span class="op">(</span><span class="va">pG</span> , <span class="va">pH</span> , ncol<span class="op">=</span><span class="fl">2</span>, nrow <span class="op">=</span><span class="fl">1</span><span class="op">)</span></span></code></pre></div>
<p><img src="BKMRCMA_Effectof_singleZ_files/figure-html/unnamed-chunk-7-1.png" width="2187.5"></p>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

      </div>

</div>



      <footer><div class="copyright">
  <p></p>
<p>Developed by Zilan Chai, Katrina Devick, <a href="https://www.lindavaleri.com/" class="external-link">Linda Valeri</a>.</p>
</div>

<div class="pkgdown">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

      </footer>
</div>

  


  

  </body>
</html>
